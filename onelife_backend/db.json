{
  "collections": {

    // "users": {
    //   "description": "Stores user information and profile data",
    //   "document_structure": {
    //     "userId": "string (auto-generated document ID)",
    //     "fullName": "string",
    //     "email": "string (unique)",
    //     "password": "string (hashed)",
    //     "dob": "timestamp",
    //     "weight": "number (kg)",
    //     "height": "number (cm)",
    //     "currentPlanId": "string (reference to plans collection)",
    //     "planStartDate": "timestamp",
    //     "planEndDate": "timestamp",
    //     "role": "string (user/admin)",
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "userId": "user123",
    //     "fullName": "John Doe",
    //     "email": "john@example.com",
    //     "password": "$2b$10$hashed...",
    //     "dob": "1990-01-15T00:00:00Z",
    //     "weight": 75.5,
    //     "height": 180,
    //     "currentPlanId": "plan456",
    //     "planStartDate": "2025-01-01T00:00:00Z",
    //     "planEndDate": "2025-01-31T00:00:00Z",
    //     "role": "user",
    //     "createdAt": "2025-01-01T10:30:00Z",
    //     "updatedAt": "2025-01-01T10:30:00Z"
    //   }
    // },

    // "plans": {
    //   "description": "Stores workout and nutrition plans (30 days each)",
    //   "document_structure": {
    //     "planId": "string (auto-generated document ID)",
    //     "planName": "string",
    //     "description": "string",
    //     "dailyHydration": "number (liters)",
    //     "dailyCalories": "number",
    //     "dailyProteins": "number (grams)",
    //     "dailyCarbohydrates": "number (grams)",
    //     "dailyFats": "number (grams)",
    //     "hoursOfSleep": "number",
    //     "gymRoutineId": "string (reference to gymRoutines collection)",
    //     "durationDays": "number (default: 30)",
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "planId": "plan456",
    //     "planName": "Weight Loss Pro",
    //     "description": "Intensive weight loss program with cardio focus",
    //     "dailyHydration": 2.5,
    //     "dailyCalories": 1800,
    //     "dailyProteins": 120,
    //     "dailyCarbohydrates": 150,
    //     "dailyFats": 50,
    //     "hoursOfSleep": 8,
    //     "gymRoutineId": "routine789",
    //     "durationDays": 30,
    //     "createdAt": "2025-01-01T08:00:00Z",
    //     "updatedAt": "2025-01-01T08:00:00Z"
    //   }
    // },

    // "gymRoutines": {
    //   "description": "Stores gym workout routines with exercises for each day",
    //   "document_structure": {
    //     "routineId": "string (auto-generated document ID)",
    //     "routineName": "string",
    //     "routineDescription": "string",
    //     "selectedDays": "array of strings (Monday, Tuesday, etc.)",
    //     "dailyExercises": "object (key: day, value: array of exercise objects)",
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "routineId": "routine789",
    //     "routineName": "Full Body Strength",
    //     "routineDescription": "Complete body workout routine focusing on compound movements",
    //     "selectedDays": ["Monday", "Wednesday", "Friday"],
    //     "dailyExercises": {
    //       "Monday": [
    //         {
    //           "exerciseId": "ex001",
    //           "exerciseName": "Bench Press",
    //           "sets": 4,
    //           "reps": 10,
    //           "restSeconds": 90,
    //           "caloriesBurned": 150,
    //           "proteinBurned": 5,
    //           "carbsBurned": 20,
    //           "fatsBurned": 10,
    //           "waterLoss": 0.2
    //         },
    //         {
    //           "exerciseId": "ex002",
    //           "exerciseName": "Squats",
    //           "sets": 4,
    //           "reps": 12,
    //           "restSeconds": 120,
    //           "caloriesBurned": 200,
    //           "proteinBurned": 6,
    //           "carbsBurned": 30,
    //           "fatsBurned": 15,
    //           "waterLoss": 0.3
    //         }
    //       ],
    //       "Wednesday": [
    //         {
    //           "exerciseId": "ex003",
    //           "exerciseName": "Deadlifts",
    //           "sets": 3,
    //           "reps": 8,
    //           "restSeconds": 180,
    //           "caloriesBurned": 250,
    //           "proteinBurned": 7,
    //           "carbsBurned": 35,
    //           "fatsBurned": 18,
    //           "waterLoss": 0.4
    //         }
    //       ],
    //       "Friday": [
    //         {
    //           "exerciseId": "ex004",
    //           "exerciseName": "Pull-ups",
    //           "sets": 4,
    //           "reps": 10,
    //           "restSeconds": 90,
    //           "caloriesBurned": 120,
    //           "proteinBurned": 4,
    //           "carbsBurned": 15,
    //           "fatsBurned": 8,
    //           "waterLoss": 0.15
    //         }
    //       ]
    //     },
    //     "createdAt": "2025-01-01T07:00:00Z",
    //     "updatedAt": "2025-01-01T07:00:00Z"
    //   }
    // },

    // "subscriptions": {
    //   "description": "Tracks all plans a user has subscribed to",
    //   "document_structure": {
    //     "subscriptionId": "string (auto-generated document ID)",
    //     "userId": "string (reference to users collection)",
    //     "planId": "string (reference to plans collection)",
    //     "startDate": "timestamp",
    //     "endDate": "timestamp",
    //     "isActive": "boolean",
    //     "renewalCount": "number",
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "subscriptionId": "subscription001",
    //     "userId": "user123",
    //     "planId": "plan456",
    //     "startDate": "2025-01-01T00:00:00Z",
    //     "endDate": "2025-01-31T23:59:59Z",
    //     "isActive": true,
    //     "renewalCount": 0,
    //     "createdAt": "2025-01-01T00:00:00Z",
    //     "updatedAt": "2025-01-01T00:00:00Z"
    //   }
    // },

    // "exercises": {
    //   "description": "Master list of all available exercises with nutritional burn data",
    //   "document_structure": {
    //     "exerciseId": "string (auto-generated document ID)",
    //     "exerciseName": "string",
    //     "category": "string (cardio/strength/flexibility/sports)",
    //     "muscleGroup": "string (chest/back/legs/arms/shoulders/core/full-body)",
    //     "difficulty": "string (beginner/intermediate/advanced)",
    //     "defaultSets": "number",
    //     "defaultReps": "number",
    //     "defaultRestSeconds": "number",
    //     "caloriesBurnedPerSet": "number",
    //     "proteinBurnedPerSet": "number (grams)",
    //     "carbsBurnedPerSet": "number (grams)",
    //     "fatsBurnedPerSet": "number (grams)",
    //     "waterLossPerSet": "number (liters)",
    //     "description": "string",
    //     "instructions": "array of strings",
    //     "videoUrl": "string (optional)",
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "exerciseId": "ex001",
    //     "exerciseName": "Bench Press",
    //     "category": "strength",
    //     "muscleGroup": "chest",
    //     "difficulty": "intermediate",
    //     "defaultSets": 4,
    //     "defaultReps": 10,
    //     "defaultRestSeconds": 90,
    //     "caloriesBurnedPerSet": 37.5,
    //     "proteinBurnedPerSet": 1.25,
    //     "carbsBurnedPerSet": 5,
    //     "fatsBurnedPerSet": 2.5,
    //     "waterLossPerSet": 0.05,
    //     "description": "Compound chest exercise using barbell",
    //     "instructions": [
    //       "Lie flat on bench with feet on floor",
    //       "Grip bar slightly wider than shoulder width",
    //       "Lower bar to chest in controlled manner",
    //       "Press bar up explosively",
    //       "Lock out arms at top"
    //     ],
    //     "videoUrl": "https://example.com/bench-press",
    //     "createdAt": "2025-01-01T07:00:00Z",
    //     "updatedAt": "2025-01-01T07:00:00Z"
    //   }
    // },


    // "userWorkoutProgress": {
    //   "description": "Tracks daily workout completion for each user",
    //   "document_structure": {
    //     "progressId": "string (auto-generated document ID)",
    //     "userId": "string (reference to users collection for our project , we are using email)",
    //     "planId": "string (reference to plans collection)",
    //     "routineId": "string (reference to gymRoutines collection)",
    //     "date": "timestamp",
    //     "dayOfWeek": "string",
    //     "exercises": "array of exercise completion objects",
    //     "totalCaloriesBurned": "number (auto-calculated)",
    //     "totalProteinBurned": "number (auto-calculated)",
    //     "totalCarbsBurned": "number (auto-calculated)",
    //     "totalFatsBurned": "number (auto-calculated)",
    //     "totalWaterLoss": "number (auto-calculated)",
    //     "completedExercises": "number (auto-calculated)",
    //     "totalExercises": "number (auto-calculated)",
    //     "isCompleted": "boolean",
    //     "markedBy": "string (userId of user/admin who marked)",
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "progressId": "progress001",
    //     "userId": "user123",
    //     "planId": "plan456",
    //     "routineId": "routine789",
    //     "date": "2025-01-08T00:00:00Z",
    //     "dayOfWeek": "Monday",
    //     "exercises": [
    //       {
    //         "exerciseId": "ex001",
    //         "exerciseName": "Bench Press",
    //         "isCompleted": true,
    //         "completedAt": "2025-01-08T06:45:00Z",
    //         "setsCompleted": 4,
    //         "repsPerSet": [10, 10, 9, 8],
    //         "caloriesBurned": 150,
    //         "proteinBurned": 5,
    //         "carbsBurned": 20,
    //         "fatsBurned": 10,
    //         "waterLoss": 0.2,
    //         "notes": "Felt strong today"
    //       },
    //       {
    //         "exerciseId": "ex002",
    //         "exerciseName": "Squats",
    //         "isCompleted": true,
    //         "completedAt": "2025-01-08T07:15:00Z",
    //         "setsCompleted": 4,
    //         "repsPerSet": [12, 12, 10, 10],
    //         "caloriesBurned": 200,
    //         "proteinBurned": 6,
    //         "carbsBurned": 30,
    //         "fatsBurned": 15,
    //         "waterLoss": 0.3,
    //         "notes": ""
    //       },
    //       {
    //         "exerciseId": "ex003",
    //         "exerciseName": "Shoulder Press",
    //         "isCompleted": false,
    //         "completedAt": null,
    //         "setsCompleted": 0,
    //         "repsPerSet": [],
    //         "caloriesBurned": 0,
    //         "proteinBurned": 0,
    //         "carbsBurned": 0,
    //         "fatsBurned": 0,
    //         "waterLoss": 0,
    //         "notes": "Skipped due to time"
    //       }
    //     ],
    //     "totalCaloriesBurned": 350,
    //     "totalProteinBurned": 11,
    //     "totalCarbsBurned": 50,
    //     "totalFatsBurned": 25,
    //     "totalWaterLoss": 0.5,
    //     "completedExercises": 2,
    //     "totalExercises": 3,
    //     "completionPercentage": 66.67,
    //     "isCompleted": false,
    //     "markedBy": "user123",
    //     "createdAt": "2025-01-08T06:00:00Z",
    //     "updatedAt": "2025-01-08T18:30:00Z"
    //   }
    // },

    "dailyStatistics": {
      "description": "Stores daily nutrition and activity statistics for each user",
      "document_structure": {
        "statId": "string (auto-generated document ID)",
        "userId": "string (reference to users collection)",
        "planId": "string (reference to current/previous plan)",
        "date": "timestamp",
        "consumed": {
          "hydration": "number (liters consumed)",
          "calories": "number",
          "proteins": "number (grams)",
          "carbohydrates": "number (grams)",
          "fats": "number (grams)"
        },
        "burned": {
          "calories": "number (from workouts)",
          "proteins": "number (grams)",
          "carbohydrates": "number (grams)",
          "fats": "number (grams)",
          "waterLoss": "number (liters)"
        },
        "net": {
          "calories": "number (consumed - burned)",
          "proteins": "number",
          "carbohydrates": "number",
          "fats": "number",
          "hydration": "number"
        },
        "planTargets": {
          "hydration": "number (from plan)",
          "calories": "number",
          "proteins": "number",
          "carbohydrates": "number",
          "fats": "number"
        },
        "hoursSlept": "number",
        "workoutCompleted": "boolean",
        "createdAt": "timestamp",
        "updatedAt": "timestamp"
      },
      "example": {
        "statId": "stat001",
        "userId": "user123",
        "planId": "plan456",
        "date": "2025-01-08T00:00:00Z",
        "consumed": {
          "hydration": 2.0,
          "calories": 1900,
          "proteins": 130,
          "carbohydrates": 160,
          "fats": 55
        },
        "burned": {
          "calories": 150,
          "proteins": 5,
          "carbohydrates": 20,
          "fats": 10,
          "waterLoss": 0.2
        },
        "net": {
          "calories": 1750,
          "proteins": 125,
          "carbohydrates": 140,
          "fats": 45,
          "hydration": 1.8
        },
        "planTargets": {
          "hydration": 2.5,
          "calories": 1800,
          "proteins": 120,
          "carbohydrates": 150,
          "fats": 50
        },
        "hoursSlept": 7.5,
        "workoutCompleted": false,
        "createdAt": "2025-01-08T00:00:00Z",
        "updatedAt": "2025-01-08T23:59:00Z"
      }
    },

    // "waterIntake": {
    //   "description": "Tracks water consumption throughout the day",
    //   "document_structure": {
    //     "intakeId": "string (auto-generated document ID)",
    //     "userId": "string (reference to users collection)",
    //     "date": "timestamp (start of day)",
    //     "logs": "array of water log objects",
    //     "totalConsumed": "number (liters, auto-calculated)",
    //     "dailyTarget": "number (liters, from current plan)",
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "intakeId": "water001",
    //     "userId": "user123",
    //     "date": "2025-01-08T00:00:00Z",
    //     "logs": [
    //       {
    //         "logId": "log001",
    //         "amount": 0.5,
    //         "timestamp": "2025-01-08T07:30:00Z",
    //         "note": "Morning water"
    //       },
    //       {
    //         "logId": "log002",
    //         "amount": 0.3,
    //         "timestamp": "2025-01-08T10:15:00Z",
    //         "note": "After workout"
    //       },
    //       {
    //         "logId": "log003",
    //         "amount": 0.4,
    //         "timestamp": "2025-01-08T14:20:00Z",
    //         "note": "Lunch"
    //       }
    //     ],
    //     "totalConsumed": 1.2,
    //     "dailyTarget": 2.5,
    //     "createdAt": "2025-01-08T07:30:00Z",
    //     "updatedAt": "2025-01-08T14:20:00Z"
    //   }
    // },

    // "foodIntake": {
    //   "description": "Tracks meals and nutrition throughout the day",
    //   "document_structure": {
    //     "foodId": "string (auto-generated document ID)",
    //     "userId": "string (reference to users collection)",
    //     "date": "timestamp (start of day)",
    //     "meals": "array of meal objects",
    //     "totalConsumed": {
    //       "calories": "number (auto-calculated)",
    //       "proteins": "number (grams, auto-calculated)",
    //       "carbohydrates": "number (grams, auto-calculated)",
    //       "fats": "number (grams, auto-calculated)"
    //     },
    //     "dailyTargets": {
    //       "calories": "number (from current plan)",
    //       "proteins": "number (from current plan)",
    //       "carbohydrates": "number (from current plan)",
    //       "fats": "number (from current plan)"
    //     },
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "foodId": "food001",
    //     "userId": "user123",
    //     "date": "2025-01-08T00:00:00Z",
    //     "meals": [
    //       {
    //         "mealId": "meal001",
    //         "mealType": "breakfast",
    //         "timestamp": "2025-01-08T08:00:00Z",
    //         "items": [
    //           {
    //             "itemName": "Scrambled Eggs",
    //             "quantity": 3,
    //             "unit": "eggs",
    //             "calories": 210,
    //             "proteins": 18,
    //             "carbohydrates": 3,
    //             "fats": 15
    //           },
    //           {
    //             "itemName": "Whole Wheat Toast",
    //             "quantity": 2,
    //             "unit": "slices",
    //             "calories": 160,
    //             "proteins": 8,
    //             "carbohydrates": 28,
    //             "fats": 2
    //           }
    //         ],
    //         "mealTotal": {
    //           "calories": 370,
    //           "proteins": 26,
    //           "carbohydrates": 31,
    //           "fats": 17
    //         }
    //       },
    //       {
    //         "mealId": "meal002",
    //         "mealType": "lunch",
    //         "timestamp": "2025-01-08T13:00:00Z",
    //         "items": [
    //           {
    //             "itemName": "Grilled Chicken Breast",
    //             "quantity": 200,
    //             "unit": "grams",
    //             "calories": 330,
    //             "proteins": 62,
    //             "carbohydrates": 0,
    //             "fats": 7
    //           },
    //           {
    //             "itemName": "Brown Rice",
    //             "quantity": 150,
    //             "unit": "grams",
    //             "calories": 195,
    //             "proteins": 4,
    //             "carbohydrates": 41,
    //             "fats": 1.5
    //           }
    //         ],
    //         "mealTotal": {
    //           "calories": 525,
    //           "proteins": 66,
    //           "carbohydrates": 41,
    //           "fats": 8.5
    //         }
    //       }
    //     ],
    //     "totalConsumed": {
    //       "calories": 895,
    //       "proteins": 92,
    //       "carbohydrates": 72,
    //       "fats": 25.5
    //     },
    //     "dailyTargets": {
    //       "calories": 1800,
    //       "proteins": 120,
    //       "carbohydrates": 150,
    //       "fats": 50
    //     },
    //     "createdAt": "2025-01-08T08:00:00Z",
    //     "updatedAt": "2025-01-08T13:00:00Z"
    //   }
    // },

    // "sleepTracking": {
    //   "description": "Tracks sleep patterns and quality for each user",
    //   "document_structure": {
    //     "sleepId": "string (auto-generated document ID)",
    //     "userId": "string (reference to users collection)",
    //     "date": "timestamp (start of day)",
    //     "bedTime": "timestamp (when user went to bed)",
    //     "wakeTime": "timestamp (when user woke up)",
    //     "totalHours": "number (auto-calculated from bedTime and wakeTime)",
    //     "sleepQuality": "string (poor/fair/good/excellent)",
    //     "notes": "string (optional notes about sleep)",
    //     "targetHours": "number (from current plan)",
    //     "createdAt": "timestamp",
    //     "updatedAt": "timestamp"
    //   },
    //   "example": {
    //     "sleepId": "sleep001",
    //     "userId": "user123",
    //     "date": "2025-01-08T00:00:00Z",
    //     "bedTime": "2025-01-07T23:00:00Z",
    //     "wakeTime": "2025-01-08T07:00:00Z",
    //     "totalHours": 8,
    //     "sleepQuality": "good",
    //     "notes": "Slept well, felt refreshed",
    //     "targetHours": 8,
    //     "createdAt": "2025-01-08T07:30:00Z",
    //     "updatedAt": "2025-01-08T07:30:00Z"
    //   }
    // }
  },

      "indexes": {
    "users": [
      "email (unique)",
      "currentPlanId",
      "role"
    ],
    "plans": [
      "gymRoutineId"
    ],
    "gymRoutines": [
      "routineName"
    ],
    "exercises": [
      "category",
      "muscleGroup",
      "difficulty",
      "exerciseName"
    ],
    "userWorkoutProgress": [
      "userId + date (composite)",
      "planId",
      "routineId",
      "date"
    ],
    "waterIntake": [
      "userId + date (composite)",
      "date"
    ],
    "foodIntake": [
      "userId + date (composite)",
      "date"
    ],
    "sleepTracking": [
      "userId + date (composite)",
      "date"
    ],
    "dailyStatistics": [
      "userId + date (composite)",
      "planId",
      "date"
    ],
    "subscriptions": [
      "userId + isActive (composite)",
      "planId",
      "userId"
    ]
  },

  "workflow_explanations": {
    "exercise_logging": {
      "description": "How exercise completion works",
      "flow": [
        "1. User/Admin creates gym routine with exercises from 'exercises' collection",
        "2. When user starts workout for the day, system creates 'userWorkoutProgress' document",
        "3. User logs Exercise 1 → isCompleted: true, burns calculated and added to totals",
        "4. User logs Exercise 2 → isCompleted: true, burns calculated and added to totals",
        "5. User skips Exercise 3 → isCompleted: false, zero burns",
        "6. System auto-calculates: completedExercises: 2, totalExercises: 3, completionPercentage: 66.67%",
        "7. Partial completion is allowed - burned nutrients only count for completed exercises",
        "8. At end of day, totals from userWorkoutProgress sync to dailyStatistics"
      ]
    },
    "water_logging": {
      "description": "How water intake tracking works",
      "flow": [
        "1. User opens water tracking screen",
        "2. User adds water log (0.5L at 10:30 AM)",
        "3. System updates 'waterIntake' document for today, adds to logs array",
        "4. totalConsumed auto-calculates from all logs",
        "5. UI shows: 1.2L / 2.5L (48% of target)",
        "6. At end of day, totalConsumed syncs to dailyStatistics.consumed.hydration"
      ]
    },
    "food_logging": {
      "description": "How meal tracking works",
      "flow": [
        "1. User opens food diary, selects meal type (breakfast/lunch/dinner/snack)",
        "2. User adds food items with quantities",
        "3. System calculates mealTotal for that meal",
        "4. System updates totalConsumed for the day",
        "5. UI shows progress bars: Calories 895/1800, Protein 92/120g, etc.",
        "6. At end of day, totalConsumed syncs to dailyStatistics.consumed"
      ]
    },
    "daily_statistics_update": {
      "description": "How daily stats are calculated",
      "flow": [
        "1. Throughout day: waterIntake, foodIntake, userWorkoutProgress update independently",
        "2. At midnight or when user views dashboard:",
        "   - Pull totalConsumed from waterIntake → dailyStatistics.consumed.hydration",
        "   - Pull totalConsumed from foodIntake → dailyStatistics.consumed (macros)",
        "   - Pull totals from userWorkoutProgress → dailyStatistics.burned",
        "3. Calculate NET values: consumed - burned",
        "4. Compare against planTargets from current plan",
        "5. If user switches plan mid-day, consumed/burned data stays same, only targets change"
      ]
    }
  },

  "firestore_rules_notes": {
    "security": [
      "Users can only read/write their own data",
      "Admins can read/write all data",
      "Plans and gym routines are readable by all authenticated users",
      "Only admins can create/update/delete plans and gym routines"
    ]
  }
}